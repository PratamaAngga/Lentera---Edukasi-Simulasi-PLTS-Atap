<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lentera - Forum</title>
    <link rel="stylesheet" href="assets/style.css">
</head>
<body data-page="forum">
    <div id="navbar"></div>

    <main>
        <div id="banner"></div>
        <section class="forum-container">
            <!-- Tab Selector -->
            <div class="forum-tabs">
                <button class="tab" data-tab="testimoni">Testimoni</button>
                <button class="tab active" data-tab="diskusi">Ruang Diskusi</button>
            </div>

            <div class="line-pemisah"></div>

            <!-- Konten Diskusi -->
            <div id="diskusi" class="tab-content active">
                <div class="comments-wrapper">
                    <div class="comment">
                        <div class="comment-header">
                            <img src="assets/img/avatar1.png" class="avatar" alt="Landak Ramah">
                            <span class="username">Landak Ramah</span>
                        </div>
                        <div class="comment-body">
                            <p>Kalau rumah saya dapet matahari cuma dari jam 8 sampai 12 siang, masih layak gak ya pasang PLTS?</p>
                            <div class="icon-reply">
                                <button class="reply-comment"><img src="assets/icon/reply.png" alt="reply"></button>
                                <button><img class="like" src="assets/icon/thumb.png" alt="like"></button>
                                <span>1 Balasan <img class="chevron" src="assets/icon/chevron-up.png" alt="chevron"></span>
                            </div>
                            <div class="reply">
                                <div class="comment-header">
                                    <img src="assets/img/avatar2.png" class="avatar" alt="Lebah Rajin">
                                    <span class="username">Lebah Rajin</span>
                                </div>
                                <div class="comment-body">
                                    <p>Layak atau tidak tergantung juga dari kebutuhan listrik dan atap yang tersedia. Tapi secara umum, 4 jam sinar matahari cukup untuk sistem kecil seperti 1–2 kWp.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="comment">
                        <div class="comment-header">
                            <img src="assets/img/avatar3.png" class="avatar" alt="Katak Optimis">
                            <span class="username">Katak Optimis</span>
                        </div>
                        <div class="comment-body">
                            <p>Ada gak sih cara pasang PLTS bertahap? Saya baru mampu untuk modal kecil.</p>
                            <div class="icon-reply">
                                <button class="reply-comment"><img src="assets/icon/reply.png" alt="reply"></button>
                                <button><img class="like" src="assets/icon/thumb.png" alt="like"></button>
                                <span>2 Balasan <img class="chevron" src="assets/icon/chevron-up.png" alt="chevron"></span>
                            </div>
                            <div class="reply">
                                <div class="comment-header">
                                    <img src="assets/img/avatar2.png" class="avatar" alt="Lebah Rajin">
                                    <span class="username">Lebah Rajin</span>
                                </div>
                                <div class="comment-body">
                                    <p>Bisa banget! Mulai dari 1 kWp dulu atau kurang juga oke. Beberapa vendor bahkan menyediakan sistem modular yang bisa ditambah kemudian.</p>
                                </div>
                            </div>
                            <div class="reply">
                                <div class="comment-header">
                                    <img src="assets/img/avatar4.png" class="avatar" alt="Elang Pemalu">
                                    <span class="username">Elang Pemalu</span>
                                </div>
                                <div class="comment-body">
                                    <p>Saya dulu juga mulai dari 1 kWp. Sekarang setelah lihat hematnya, saya upgrade jadi 2,5 kWp. Jadi saran saya: jalan dulu!</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="comment">
                        <div class="comment-header">
                            <img src="assets/img/avatar5.png" class="avatar" alt="Merpati Bijak">
                            <span class="username">Merpati Bijak</span>
                        </div>
                        <div class="comment-body">
                            <p>Kalau rumah saya sering hujan gimana? Tetap bisa efisien kah pakai PLTS?</p>
                            <div class="icon-reply">
                                <button class="reply-comment"><img src="assets/icon/reply.png" alt="reply"></button>
                                <button><img class="like" src="assets/icon/thumb.png" alt="like"></button>
                                <span>1 Balasan <img class="chevron" src="assets/icon/chevron-up.png" alt="chevron"></span>
                            </div>
                            <div class="reply">
                                <div class="comment-header">
                                    <img src="assets/img/avatar6.png" class="avatar" alt="Bunglon Ganteng">
                                    <span class="username">Bunglon Ganteng</span>
                                </div>
                                <div class="comment-body">
                                    <p>Tetap bisa, karena sistem PLTS bekerja berdasarkan intensitas cahaya, bukan hanya panas. Meski efisiensi menurun, tetap bisa bantu kurangi tagihan.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="comment">
                        <div class="comment-header">
                            <img src="assets/img/avatar2.png" class="avatar" alt="Lebah Rajin">
                            <span class="username">Lebah Rajin</span>
                        </div>
                        <div class="comment-body">
                            <p>Ada rekomendasi vendor PLTS di daerah Yogyakarta? Saya cari yang udah berpengalaman.</p>
                            <div class="icon-reply">
                                <button class="reply-comment"><img src="assets/icon/reply.png" alt="reply"></button>
                                <button><img class="like" src="assets/icon/thumb.png" alt="like"></button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Form pertanyaan -->
                <div class="question-box">
                    <img src="assets/img/avatar0.png" class="avatar" alt="Landak Ramah">
                    <input type="text" placeholder="Ajukan pertanyaan kamu disini...">
                    <button><img src="assets/icon/send.png" alt="send"></button>
                </div>
            </div>

            <!-- Testimoni tab -->
            <div id="testimoni" class="tab-content">
                <div class="comments-wrapper">
                    <div class="testi">
                        <div class="testi-content">
                            <div class="comment-header">
                                <img src="assets/img/avatar7.png" class="avatar" alt="Harimau Ceria">
                                <span class="username">Harimau Ceria</span>
                            </div>
                            <div class="comment-body">
                                <p>Saya pasang PLTS atap sejak 2023, awalnya hanya 1 kWp. Sekarang setelah lihat hasilnya, saya tambah jadi 3 kWp. Tagihan listrik turun drastis dan saya merasa ikut berkontribusi buat lingkungan.</p>
                            </div>
                        </div>
                        <button class="testi-like"><img class="like-testimoni" src="assets/icon/thumb-white.png" alt="like"></button>
                    </div>
                    <div class="testi">
                        <div class="testi-content">
                            <div class="comment-header">
                                <img src="assets/img/avatar8.png" class="avatar" alt="Koala Santai">
                                <span class="username">Koala Santai</span>
                            </div>
                            <div class="comment-body">
                                <p>Awalnya saya kira PLTS itu mahal dan ribet. Tapi setelah ikut webinar dari komunitas Lentera, saya jadi paham sistem kerjanya. Akhirnya pasang juga tahun ini, dan gak nyesel!</p>
                            </div>
                        </div>
                        <button class="testi-like"><img class="like-testimoni" src="assets/icon/thumb-white.png" alt="like"></button>
                    </div>
                    <div class="testi">
                        <div class="testi-content">
                            <div class="comment-header">
                                <img src="assets/img/avatar9.png" class="avatar" alt="Penguin Imut">
                                <span class="username">Penguin Imut</span>
                            </div>
                            <div class="comment-body">
                                <p>Kami pakai PLTS di rumah kontrakan. Bahkan pemilik rumah jadi ikut tertarik pasang juga. Suka banget kalau siang lihat meter PLN muter balik, artinya kami lagi kirim listrik ke jaringan!</p>
                            </div>
                        </div>
                        <button class="testi-like"><img class="like-testimoni" src="assets/icon/thumb-white.png" alt="like"></button>
                    </div>
                </div>
                <div class="make-testimoni">
                    <img src="assets/img/avatar0.png" class="avatar" alt="Landak Ramah">
                    <input type="text" placeholder="Ceritakan pengalaman kamu disini...">
                    <button><img src="assets/icon/send.png" alt="send"></button>
                </div>
            </div>
        </section>
    </main>

    <div id="footer"></div>

    <script src="js/include.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const tabs = document.querySelectorAll('.forum-tabs .tab');

            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    const targetTab = tab.dataset.tab;

                    // Hapus status aktif dari semua tab
                    tabs.forEach(t => t.classList.remove('active'));
                    // Tambahkan status aktif ke tab yang diklik
                    tab.classList.add('active');

                    // Sembunyikan semua konten
                    document.querySelectorAll('.tab-content').forEach(content => {
                        content.classList.remove('active');
                    });

                    // Tampilkan konten sesuai tab yang aktif
                    document.getElementById(targetTab).classList.add('active');
                });
            });
        });

        document.addEventListener("DOMContentLoaded", function () {
            const comments = document.querySelectorAll(".comment");

            comments.forEach(function (comment) {
                const replyToggle = comment.querySelector(".icon-reply span");
                const replies = comment.querySelectorAll(".reply");
                const chevron = replyToggle.querySelector(".chevron");
                const iconReply = comment.querySelector(".icon-reply");

                // Sembunyikan semua reply di awal
                replies.forEach(reply => {
                reply.style.display = "none";
                });
                chevron.src = "assets/icon/chevron-down.png";

                replyToggle.addEventListener("click", function () {
                const isVisible = replies[0].style.display === "block";

                replies.forEach(reply => {
                    reply.style.display = isVisible ? "none" : "block";
                });

                chevron.src = isVisible
                    ? "assets/icon/chevron-down.png"
                    : "assets/icon/chevron-up.png";

                iconReply.style.marginBottom = isVisible ? "0" : "36px";
                });
            });
        });

        document.addEventListener("DOMContentLoaded", function () {
            const thumbIcons = document.querySelectorAll(".like");

            thumbIcons.forEach(function (thumb) {
                thumb.addEventListener("click", function () {
                const isLiked = thumb.dataset.liked === "true";

                // Toggle gambar dan status
                if (isLiked) {
                    thumb.src = "../assets/icon/thumb.png";
                    thumb.dataset.liked = "false";
                } else {
                    thumb.src = "../assets/icon/thumb-fill.png";
                    thumb.dataset.liked = "true";
                }
                });
            });
        });

        document.addEventListener("DOMContentLoaded", function () {
            const thumbIcons = document.querySelectorAll(".like-testimoni");

            thumbIcons.forEach(function (thumb) {
                thumb.addEventListener("click", function () {
                const isLiked = thumb.dataset.liked === "true";

                // Toggle gambar dan status
                if (isLiked) {
                    thumb.src = "../assets/icon/thumb-white.png";
                    thumb.dataset.liked = "false";
                } else {
                    thumb.src = "../assets/icon/thumb-fill-whit.png";
                    thumb.dataset.liked = "true";
                }
                });
            });
        });

        document.addEventListener("DOMContentLoaded", function () {
            const replyButtons = document.querySelectorAll(".reply-comment");
            const inputBox = document.querySelector(".question-box input");

            replyButtons.forEach(button => {
                button.addEventListener("click", function () {
                const commentDiv = button.closest(".comment");
                const usernameDiv = commentDiv.querySelector(".username");

                if (usernameDiv) {
                    const username = usernameDiv.textContent.trim();
                    inputBox.placeholder = `Membalas Komentar dari ${username}`;
                }
                });
            });

            // 🔁 Kembalikan placeholder jika input blur dan kosong
            inputBox.addEventListener("blur", function () {
                if (inputBox.value.trim() === "") {
                inputBox.placeholder = "Ajukan pertanyaan kamu disini...";
                }
            });
        });
    </script>
</body>
</body>
</html>